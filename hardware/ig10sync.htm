<pre>
Из журнала Info Guide #10, Рязань, 05.2007



    Синхроселектор и прочие EGA-шности

TDD

   Привет всем! Как-то при случае приобрёл
я плату  Pentagon 1024SL v2.2,  на  замену
своему  старенькому Scorpion'у. Набаловав-
шись  с PAL кодером  и телевизором (глупый
телек никак не хотел понимать RGB),я решил
подключить  его к EGA монитору, тем более,
что  Scorp работал с ним. И вот тут-то на-
чалось  самое  интересное! Ну, с  гашением
"светло-чёрного" я быстро разобрался, пов-
торив соответствующую схему из старого ко-
мпа, а вот с синхронизацией пришлось пово-
зиться.На плате Pentagon'а отсутствуют ра-
здельные строчные и кадровые синхроимпуль-
сы. Как говорит автор, просто не оказалось
свободных ног в ПЛИС.
</pre>
<img src=ig10sync/pic1.gif>
<pre>
   Я   пробовал  подавать  синхросмесь  на
строчный и кадровый входы монитора, инвер-
тировал  её в разных сочитаниях, ничего не
помогало. Тогда  я решил  собрать селектор
синхроимпульсов на К174ХА11, как в телеви-
зорах,и уже с него подать сигналы на мони-
тор. Поиски готового модуля УСР не увенча-
лись успехом,я просто купил микруху и рос-
сыпь  в Радиопрофи, нарисовал  и протравил
плату, и собрал  этот модуль. Но сколько я
ни бился с ним, крутя-вертя все подстроеч-
ники  на нём, а также частоты кадров-строк
на мониторе,мне так и не удалось заставить
его нормально показывать. Кадровую частоту
модуль выдавал чётко, а вот строчную никак
не  хотел синхронизировать. Максимум, чего
мне удавалось добиться,подстраивая частоту
строк, - это то, что изображение не "бежа-
ло",а относительно стояло на месте, норовя
завернуться то влево,то вправо. Ни о какой
стабильности речь не шла. И вот, после не-
скольких часов "ловли микронов", меня осе-
нило  потыкаться  осцилом в синхросмесь, и
посмотреть,что же там на самом деле...
   И где я раньше был?! Не удивительно,что
он никак не ловил синхру! Во-первых,сигна-
лы были смешаны по исключающему ИЛИ, из-за
этого, скорее всего,сбивался строчный син-
хронизатор.
   Ред.: В оригинальном Pentagon то же са-
мое.Чаще всего проявляется в том,что верх-
ние несколько строк бордера стоят "криво".
   Во-вторых,и главное. Длительность стро-
чных  синхроимпульсов  была всего примерно
2.4 микросекунды,тогда как по спецификации
на телесигнал  должны быть не короче 10-12
микросекунд.Не удивительно,что он не ловил
синхру, удивляет, как её ловил телек с PAL
кодером. Тогда я решил сам придумать схему
синхроселектора, которая бы еще и удлиняла
строчный синхросигнал. После продолжитель-
ных раздумий была нарисована схема,которая
певращает  все недостатки в достоинства, и
при этом удивительно простая.
</pre>
<img src=ig10sync/pic2.gif>
<pre>
   * Конденсатор  1.5 нФ регулирует длите-
льность ССИ, его можно подобрать.

   Принцип прост: На RS-триггере,RC-цепи и
триггере  Шмитта  реализован  "удлинитель"
строчных импульсов.На D-триггере - элемент
сравнения удлинённого синхроимпульса с ис-
ходным. Если исходный импульс короче - ни-
чего не предпринимаем, а если длиннее - то
"переворачиваем" входной  сигнал элементом
"исключающее ИЛИ". Естественно, удлинённый
сигнал  является строчным синхроимпульсом,
а сигнал на переворот - кадровым. Далее,на
транзисторах выполнена развязка по току, а
на резисторах - согласование по уровню си-
гнала. Ну, и по старой доброй традиции пи-
тание +5 вольт на микрухи подаётся на 14-й
вывод, а общий подаётся на 7-й вывод.
</pre>
<img src=ig10sync/pic3.gif>
<pre>
   На удивление,собранный модуль заработал
сразу, мне  понадобилось  только подобрать
ёмкость в цепи "удлинителя". На этот раз я
поленился  рисовать плату, и собрал модуль
на свободном монтажном поле платы компа.
   Распиновка  EGA-разъёма:  1-общий, 3-R,
4-G, 5-B, 6-Bright, 8-ССИ, 9-КСИ,  осталь-
ные никуда не подключаются.
</pre>