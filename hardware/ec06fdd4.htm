<pre>
Из газеты Echo #06, Брест, 07.2000

 
 
          Доработка контроллера
              дисковода для
               подключения
             4-х дисководов.
 
Igor / ASt

  Привет всем, кто любит и уважает незабы-
ваемый ZX-Spectrum. Здесь и сейчас я хотел
бы  рассказать об одной нехитрой доработке
контроллера  дисковода.  В настоящее время
дисководы перестали быть роскошью за $20 и
их  без проблем можно приобрести за копей-
ки, или получить на халяву ненужный писиш-
нику пятидюймовый дисковод на 1.2Мб (боль-
шинство из которых без проблем перенастра-
иваются для работы на ZX), а если повезет,
то  и поиметь по-дешевке трехдюймовик. Все
это я к тому, что теперь без проблем можно
установить  на свой Спекки до 4-х дисково-
дов  с  минимальными  затратами, тем более
что TRDOS это поддерживает, да и большинс-
тво системных программ тоже. Вот собствен-
но мы и подошли к теме этой статьи.
  Большинство  контроллеров  TRDOS не под-
держивают  больше двух дисководов. Как это
определить - да очень просто, в самой сис-
теме  надо перейти на дисковод C: или D: и
дать  какую-нибудь  команду  типа  RUN или
CAT.  Если Вы все это проделали с дисково-
дом  C: и при этом дисковод A: не отреаги-
ровал  на Ваши действия, значит ничего пе-
ределывать не надо и достаточно лишь запа-
раллелить  еще  парочку  этих устройств на
шлейф. В противном случае придется  немно-
го поковыряться в контроллере.
  Я расскажу о переделке контроллера у ко-
торого  РЕГИСТР УПРАВЛЕНИЯ (порт #FF) соб-
ран  на триггере ТМ8. Для доработки потре-
буется  две  микросхемы  -  еще одна ТМ8 и
ИД14 или любой другой дешифратор с инверс-
ными  выходами  и  повышенной  нагрузочной
способностью  (открытый  коллектор). Изна-
чально триггер ТМ8 включен примерно так:
</pre>
<img src=ec06fdd4/pic1.gif>
<pre>
  Как видно из схемы - вся проблема в том,
что  дисководы дешифрируются только по од-
ному биту D0.
  На  плате  необходимо  отрезать  дорожки
идущие к шлейфу от микросхемы ЛА13 и обоз-
наченные выше как Disk A и Disk B. Напаять
поверх  имеющейся  ТМ8  еще  одну такую же
микросхему,  запараллелив  при этом вывода
1, 8, 9, 16  и отогнув все остальные. На 1
вывод  нового  триггера завести сигнал D1,
который можно взять с 8 вывода ВГ93. Далее
необходимо  разместить  где-либо  на плате
контроллера дешифратор К531ИД14 (желатель-
но  поближе  к  шлейфу, чтобы не опутывать
плату  контроллера  лишними  проводами)  и
распаять  его  по  ниже приведенной схеме,
при этом не забыв подать на него питание.
</pre>
<img src=ec06fdd4/pic2.gif>
<pre>
  Сигнал  MOTOR нужно взять со шлейфа иду-
щего  на  дисководы  (16).  Новые  сигналы
Disk A, Disk B, Disk C и Disk D необходимо
припаять  к  проводам выходного шлейфа 10,
12,  14 и 6 соответственно. Вот в принципе
и вся дороботка. Теперь можно использовать
в работе сразу четыре дискеты без постоян-
ного  их  перетыркивания. И еще - если под
рукой  не оказалось нужного дешифратора, а
очень  хочется побыстрей насладиться рабо-
той с 4-мя дисководами, то можно использо-
вать  микросхему  ИД4  или  ИД7 (как более
распространенные),  но  при этом  придется
выходные  сигналы с этих микрух пропустить
через какую-нибудь логику имеющую выходы с
открытым коллектором типа ЛН3, ЛП12, ЛИ2 и
т.д. Если используются микрухи с инверсией
(типа  ЛН3), то выходные сигналы пропуска-
ются через два логических элемента.
</pre>