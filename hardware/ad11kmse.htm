<pre>
Из журнала Adventurer#11,
Ярославская область, г.Рыбинск, 17.08.2000



      Паршуков XN0ByS Юрий/CPU

                      Одна железка хорошо
                         а другая лучше !
 
         Сегодня у нас железо !!!
 
     На  этот  раз  мне  доверили описать
описание  на подключение Kempston MOUSE ,
вы скажете, что этих мыхов было до @#$!не
фене, НО! Скажу я эта схема немного отли-
чается  от  всех остальных (которые я ви-
дел)  количеством  элементов  и простотой
подключения.  Итак,  читайте  "фирменное"
описание автора схемы ( Николай Волков ).
     Я  кое-где  буду вставлять пояснения
( XNB> ).

      -=NGW=-

+---------------------------------------+
|  Сказание  о  диком  Мыше  (KEMPSTON) |
+---------------------------------------+

     В  один  зимний солнечный день попа-
лась мне на глаза схема данного мыша, та-
кая вся крутая - с полной дешифрацией по-
ртов. Но уж больно много корпусов исполь-
зовалось  в  ней, причем многие неполнос-
тью.  И  решил  я,  что эта мышь чересчур
офу_ла, и надо ее маленько опустить (сде-
лать попроще и из доступных мне деталей).
Нашел  мышку  DEAD фирмы HP раскрутил ее.
Моим глазам предстала картина: два корпу-
са,  4 фонаря и 4 фототранзистора. Причем
светодиоды  были  запитаны  через токовый
стабилизатор  +12 вольтами. Я решил, если
хочет  12 В, то пусть так и будет, а фазы
счета я взял прямо с ног одного из корпу-
сов  (формирователя,  второй  - сдвиговой
регистр).
     Далее  я начал думать о счетном кас-
каде  и  содрал  его  со  старой схемы на
561ИЕ11,  но  в связи с упрощенной схемой
дешифрации  КП-хи я использовать не смог.
А  поставил  555АП5.  В результате у меня
работал один каскад, а второй благополуч-
но  выгорел  из-за большого входного тока
555 серии.
     Порывшись  в  справочниках ( спасибо
фирме ЗЕЛТЕК ), я нашел корпус SN74ALS245
-  это  аналог нашей 1533АП6. После этого
усовершенствования счетчики больше не го-
рели.  Если будут какие-нибудь левые про-
сечки,   поставь   побольше   емкость  на
155ЛП8.
     В  целом схема еще не до конца доду-
мана,  надо  бы избавиться от ЛП-хи, т.к.
она одна съедает около 60 мА.
     Ничего  страшного  нет в том, что на
входы счетчиков подается несколько больше
5-ти вольт.

-=<XNB>

     Я добавил в схему среднюю кнопку.
     Небольшие пояснения к схеме от меня:
каскад   координат   X   и   координат  Y
абсолютно одинаков.
 Порт координат X - #FBDF (64479)
      координат Y - #FFDF (65503)
      кнопок      - #FADF (64423).
 
      Побитный расклад порта кнопок:
      76543210 Бит
      00000111
           |||
           ||+- Левая кнопка
           |+-- Правая кнопка
           +--- Средняя кнопка

     В  драйвере мыхи нужно предусмотреть
автоопределение  кнопок:  первая  нажатая
кнопка  (LEFT  or  RIGHT)  будет огнем, а
другая отменой.
 >=-
</pre>
<img src=ad11kmse/pic1.gif>
<pre>
     P.S.  Также  привожу чертеж печатной
платы порта #FF под АП5 со стороны элеме-
нтов (опробован - работает).

+---------------------------------------+
|   POSTSCRIPTUM  FOR  KEMPSTON  MOUSE  |
+---------------------------------------+

     Данный текст мне приходится набивать
для  тех, кто - "ну воо..обще не вьезжает
куда  эта плата (контроллер крысы) встав-
ляется"... ...Вставили бы они его себе...
...Плашмя...
     Ну да ладно, слухайте "сынки":

     1. Выясняем,  какой  комп  находится
перед вами:

     а. PENTAGON
     б. SCORPION
     в. ЛЕНИНГРАД , DUET , МИКРОША , ИРИ-
ША , КОРВЕТ и т.д.
     г. х.. его знает...

     2. Ваши дальнейшие действия:

     а. Для  владельцев PENTAGON 'ов сиг-
налы:А0, А5, А7, А8, А10, RD, D0, D1, D2,
D3,  D4, D5, D6, D7 берутся прямо с соот-
ветствующих  ножек процессора. IORQ - это
вопрос  отдельный - его можно вытащить со
второй  ноги D65 (555ЛЛ1). Для блокировки
кемпстона используется следующая "фишка":
с  15 ноги ИД7 (на контроллере крысы) ки-
дается  проводничок на 1 + 19 ноги на АП5
на  GAMECARD , которые предварительно от-
резаются от платы.

-=<  XNB>   GAMECARD   -   имеется  ввиду
     карта  с установленной на ней AY8912
     или YAMAHA.
 >=-

     б. Для  владельцев SCORPION 'ов сиг-
налы:А0, А5, А7, А8, А10, RD, D0, D1, D2,
D3, D4, D5, D6, D7, IORQCE берутся с сис-
темного разъема. Для блокировки кемпстона
используется следующая "фишка": с 15 ноги
ИД7  (на контроллере крысы) кидается про-
водничок на 13 ногу D32 (555ЛИ1), которая
предварительно отрезается от платы.
     в.  Как  говорит  один мой приятель:
"Это не есть хорошо", найдите чего-нибудь
поновее.
     г. Смотри пункт 1.

     3. Как забацать самого мыша:

     1. Снимаем корпус.
     2. Находим на плате любую микросхему
(ее крайние ножки - питание).
     3. Отслеживаем питание до разьема.
     4. Подключаем  питание (оно написано
на корпусе, обычно 12 В).

-=< XNB> Чаще всего, по моему опыту, 5 В
 -=>
 
     5. Вращаем  мышиные колеса и смотрим
сигналы на ногах м-мы.
     6. Для каждого колеса по два сигнала
(входы  м-мы),  эти  сигналы  должны быть
сдвинуту на 90 градусов.
     7. Вот их-то мы и подадим на счетчи-
ки крысы.

     4. Советы по настройке.

     1. Набейте прогу для побитного опро-
са порта, т.к. возможно вы перепутали вы-
ходные данные.
     2. На 155-ую серию (ЛП8) вешайте ко-
ндюки побольше.
     3. Системные провода надо бы покоро-
че,  а на мыша лучше витые пары или экра-
нированный кабель.
     4. Счетные входы желательно повесить
на плюс через пезюки на 5..10 КОм.
     5. КМОПы (561серия)  боится статики,
(акуратно их лапайте).
     6. Кнопки у  мыша работают нолем (на
землю ).
     7. Если возникнут вопросы:
     тел.26-61-30 (в Рыбинске),
     Николай
</pre>