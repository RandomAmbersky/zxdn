Из журнала Info Guide #10, Рязань, 05.2007



   Как быстро рисовать цветные картинки


Alone Coder

   Наконец-то я нашёл время и могу подели-
ться одним из своих секретов :) А именно -
как  нарисовать полноэкранную цветную кар-
тинку  за один присест. Один присест в за-
висимости от требуемого качества может ко-
лебаться  от  пятнадцати минут до четырёх-
пяти часов, или где-то так.
   Данный  способ рисования я использую со
времён ZX-Guide #4.5. Там были самые быст-
рые, самого  топорного качества зарисовки,
но вряд ли кто посмеет утверждать,что пря-
мо-таки все они стояли не в тему :) Всегда
хочется, чтобы  картинка  стояла  на своём
месте  со смыслом - но готовых картинок на
выбор, как правило, нет,и только такой вот
метод  может спасти идею, которая иначе бы
пропала без графического воплощения.
   Итак.

                1. Контур

   Контур следует первоначально изобразить
на бумаге, грубыми семействами штрихов, из
которых  самые  удачные  (как станет видно
после  критического  взгляда на произведе-
ние)  подчеркнём. Дело  это быстрое, можно
сделать  много  попыток, и с какого-нибудь
раза (даже если вы сильно не дружите с ка-
рандашом) обязательно получится то,что на-
до.
   Можно рисовать не карандашом, а шарико-
вой ручкой. Как раз ручкой нарисованы кар-
тинки в Inferno #4.
   Счастливые  обладатели сканера или циф-
рового  фотоаппарата  могут  сразу загнать
изображение  в компьютер. Ппедположим, что
у нас  такого оборудования нет. Что мы де-
лаем? Открываем  виндузовый Paint. Создаём
белый (чёрный,зелёный,голубой,... - смотря
какой фон нужен по сюжету) лист.Берём мышь
и срисовываем  контур  вручную. Почему  не
Photoshop? Потому что в Paint'е проще мас-
штабировать  куски  изображения, которые с
первого раза не получились.
   Всего на этот этап требуется минут два-
дцать. Я  выше говорил про пятнадцать? Так
если  мы уже набили руку и идём на рекорд,
то можем пропустить этап с бумажкой,а кон-
тур нарисуем приблизительно,опять-таки се-
мействами штрихов, из которых лишние потом
можно стереть (или подчеркнуть удачные,как
выше).
   Если  обстоятельства требуют отказаться
от использования вражеской платформы и во-
рованных  программ, то на ZX для рисования
контуров имеется программа DBS v0.7 (а ко-
нкретно в ней - режим "H" ).Других средств
для связноштрихового мышкования на ZX пока
нет.

             2. Раскрашивание

   Не выходя из Paint'а (или Photoshop'а),
начинаем раскрашивать картинку.Берём яркие
цвета  и жирными мазками размазываем их по
нужным местам картинки.
   У Photoshop'а на этом этапе уже преиму-
щество - есть настраиваемый параметр "про-
зрачность кисти". То есть два мазка по од-
ному  и тому же месту  дадут более сильную
окраску, чем  один  мазок  (вспоминаю свой
чанковый редактор 1997 года,там тоже такое
было :))).
   После  жирных  мазков  уточняем рисунок
мазками  нежирными - мелкими, прозрачными,
блуром, инструментом  "палец"  или что там
ещё  есть в редакторе подходящее. Подрисо-
вываем, отходим, щуримся... И т.д.
   На  ZX  для этапа раскраски более-менее
годится  только софтинка 8col, и то плохо,
т.к. в ней нет жирных кистей,а взамен есть
только  постановка 4 точек за фрейм (в от-
личие от аналогичных программ,у которых за
фрейм, как ни махай мышкой, рисуется всего
одна точка).Из-за тонкой кисти при быстром
замазывании  в 8col получается характерное
"дырявое" заполнение, которое можно видеть
в  ZX-Guide #4.5  на картинке "Альпинист".
Эта картинка нарисована от начала до конца
в 8col, т.к. DBS тогда не было. Нарисована
примерно за 30 минут. Однако параллельно с
разговором по телефону! :)

                3. Чистка

   Грубо нарисованную и грубо раскрашенную
картинку  следует подчистить. Этот процесс
заключается в стирании контуров и проведе-
нии аккуратных  цветопереходов (можно рез-
ких, можно плавных).
   Запомните: вы рисуете не пцшную картин-
ку  и даже не иллюстрацию к книге. Поэтому
не слишком уточняйте рисунок, многое съест
конверсия.Вам потом всё равно потом придё-
тся подрисовывать результат  уже на спект-
румовской картинке.Зачем два раза рисовать
одни и те же детали?

             4. Выбор размера

   Обычно требуется картинка во весь экран
- 256x192. Но бывают и другие случаи. Изу-
чите  ваш  случай, вырежьте  самый  нужный
фрагмент, отбросив ненужное (например,я не
пожалел ноги того чувака,которого выставил
на ArtField'2006 ) и отмасштабируйте в ка-
кой надо размер. Я делаю это так:
   I. На глазок выделяю окошко с соотноше-
нием сторон между 4:3 и 1:1.
  II. Crop (оно  же "Кадрирование", оно же
"Обрез" - не знаю, как ещё оно может назы-
ваться во всяких дурных локализациях).
 III. Image Size ставлю 256 x сколькополу-
чится, с сохранением пропорций.
  IV. В  Canvas Size  ставлю  высоту 192 с
обкусыванием  с нужной стороны или с обеих
сторон, как красивше.

           5. Подведение цветов

   Теперь, поскольку  не факт, что цвета у
вас получились спектрумовские, вам следует
подобрать  такие  цвета, у  которых больше
шансов пройти конверсию. Тёмные спектрумо-
вские  цвета  имеют  вид 0, 0, 0 (чёрный),
0, 0, 160 (синий) и т.д., до 160, 160, 160
(белый). Светлые - то же самое,но 255 вме-
сто 160. Число  160 может меняться в зави-
симости от используемого конвертора,у меня
в  con18  вместо него используется 128. Но
учтите, что  в эмуляторе вы, скорее всего,
увидите 160. На реальной машине с типичным
телевизором - тоже.
   Однако  не зацикливайтесь на этапе под-
ведения  на чистых цветах - хорошие цвето-
переходы  иногда и после конверсии смотря-
тся хорошо! (Но к цветопереходам на телес-
ных цветах это обычно не относится.)
   Если вы планируете картинку без плавных
цветопереходов  (вспомним предыдущий номер
журнала), в подборе цветов вам поможет сам
Photoshop. Чтобы он вам помог,ткните опцию
"Indexed Color", а в ней "Адаптивную пали-
тру" с нужным количеством цветов (10-20) и
БЕЗ штриховки. После этого вы сможете кру-
тить цвета больших областей через палитру.
   У Photoshop  есть возможность (я её ис-
пользовал на картинке к IG#9) получить чи-
стые штриховки типа diamond (в народе "ча-
нковые"). Для этого надо задать цвет обла-
сти  ТОЧНО  на нужном проценте между двумя
спектрумовскими  цветами, после чего скон-
вертировать  в спектрумовскую палитру. Это
всё  та же опция "Indexed Color", со штри-
ховкой  "Diamond"  и  с палитрой "Личная",
которую  нарисуйте сами - у меня она давно
лежит нарисованная, я её просто подгружаю.
Если на диске останется место, положу её в
приложение.
   В некоторых  случаях Photoshop не нахо-
дит нужную  пару цветов  для 50-процентной
штриховки  и мажет  сразу многими цветами.
Это, в частности, мешало при конвертирова-
нии графики  для цветной версии  Season of
Sacura - шальные пиксели везде приходилось
убирать вручную.

               6. Конверсия

   Далее следует выбрать:конвертируем пря-
мо в спектрумовский экран  или сначала в 8
color? Второе позволит с удобством навести
50-процентные штриховки,но не даст Bright.
Первое  даст Bright, но штриховки придётся
рисовать по пикселям. Впрочем, если вам не
нужно  выставочное качество, можете не ду-
мать  о  последующей  обработке. Например,
фотографии для журнала я конвертирую сразу
в экран, а обработка  заключается только в
удалении вышеупомянутых шальных пикселей.
   Конвертировать некоторые товарищи любят
в bmp2scr. Но  я пользуюсь своим конверто-
ром con18 (исходник - в приложении к IG#7,
более  новый  исходник  и .exe - у меня на
сайте). Там есть настройка цветности,выбор
количества чанков,выбор уровня dithering'а
и ручное замазывание областей нужным режи-
мом. Всё  это нужно. Подбирайте настройки,
пока не будете уверены, что лучше сконвер-
тить не удастся. А то вам же придётся вру-
чную убирать артефакты.

        7. Чистка после конверсии

   Собственно, убирание  лишних пикселей и
неправильно раскрашенных квадратов. Когда-
то  требуется, когда-то нет. Необходимость
чистки зависит от успеха потения с настро-
йками при конверсии (см. пред. пункт).
   Если картинка переведена в формат спек-
трумовского экрана, то чистку следует про-
изводить в BGE.
   Если  же картинка переведена в 8 color,
то  вместо  чистки производим в моей прог-
рамме 8col перезамазывание областей, кото-
рые  плохо выглядят по нажатию кнопки "V".
Когда  весь экран станет выглядеть хорошо,
то результат,полученный кнопкой "V", можно
сохранить,гордо назвав завершённой картин-
кой. Хотя  (до перезамазывания, или после,
или  вместо ;)) не  повредит  ещё подвести
50% цветопереходы. Где  получится. 50-про-
центная  штриховка  в  8col делается одно-
временным  нажатием  левой и правой кнопок
мыши, либо средней кнопкой, у кого есть.

               8. Пикселинг

   Далее,если нам ещё не надоело рисовать,
грузим  полученное полотно в BGE и делаем,
чтобы  каждый  пиксель стоял на своём мес-
те... Если  покорпеть, то о тёмном прошлом
картинки никто даже не догадается :)

                  * * *

   Есть данные,что описанный метод исполь-
зовал/ую не один я. Например, Ice'Di наме-
кал на него в газете Psychoz.
   Выгода - не  только  в скорости рисова-
ния. При этом методе гораздо больше вероя-
тность, что будут правильно подобраны про-
порции (плохие  вы  бы  выправили в Photo-
shop'е  на  любом этапе), будет правильный
ракурс (на бумаге-то оно проще), лучше ля-
гут  света и тени (подрисовываем, отходим,
щуримся...) и т.п.

   Приятного рисования! Присылайте иллюст-
рации для Info Guide :)
