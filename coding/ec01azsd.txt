Из газеты Echo #01, Брест, 11.1996



   Группой *SANALEX* (Минск) была разработана, опробована и сей-
час  выпускается очень интересная музыкальная плата. Думаем, что
не лишним будет о ней написать.

       A Z U R E  S O U N D  D R I V E   V 8 . 6 (QUADRO)
         =============================================

    МУЗЫКАЛЬНАЯ ПЛАТА ДЛЯ SPECTRUM-СОВМЕСТИМЫХ КОМПЬЮТЕРОВ.


                       НАЗНАЧЕНИЕ ИЗДЕЛИЯ
                       ------------------

   ASD  V8.6  предназначен  для  воспроизведения  мелодий, музы-
кальных  фрагментов,  различных звуковых эффектов написанных для
AZURE SOUND DRIVE V8.6 и ниже, а также для таких известных музы-
кальных  плат как SOUND DRIVE 1, SOUND DRIVE b, LPT-COVOX, PROFI
COVOX без каких-либо доработок! Воспроизведение происходит с по-
вышенным  качеством!  А  также  есть возможность воспроизведения
цифровой  музыки,  напиcанной  для  AY8910/12  и  плат  AY-COVOX
(MONO), AY-COVOX (STEREO), с небольшими программными доработками
(см. ниже).

                  СРАВНИТЕЛЬНЫЕ ХАРАКТЕРИСТИКИ
                  ----------------------------

НАЗВАНИЕ ПЛАТЫ   КОЛ-ВО БИТ  КАЧЕСТВО  АППАРАТНО    ПРОГРАММНО
                                        КАНАЛОВ   ПОРТОВ/КАНАЛОВ

AZURE SOUND         8        STEREO+      4             14
   DRIVE V8.6

LPT-COVOX           6         MONO        1             4

SOUND DRIVE 1       8        STEREO+      4             4

SOUND DRIVE b       6         MONO        1             4

PROFI-COVOX         7        STEREO       2             4

AY-COVOX (MONO)     6        MONO         1/2           4

AY-COVOX (STEREO)   7        STEREO       2/2           4

AY8910/12           4        STEREO       2/3           3

SOUND CARD          7        STEREO       2             4

   Как  видно из характеристик, AZURE SOUND DRIVE V8.6 превосхо-
дит  все имеющиеся музыкальные платы, работающие с цифровым зву-
ком. К этому следует добавить, что другие платы для совместимос-
ти между собой требуют не только программных доработок, но и ап-
паратных!  Что  касается AY-COVOX - он мало где используется и у
него неудобное обращение и работа с портами.

   AZURE  SOUND DRIVE V8.6 обеспечивает полноценное восьмибитное
воcпроизведение цифровой музыки написанной как для SPECTRUM, так
и для IBM PC, AMIGA.


                     ПРОГРАММИРОВАНИЕ ПЛАТЫ
                     ----------------------

   Как было указано выше, AZURE SOUND DRIVE совместим практичеc-
ки  со  всеми  муз. платами, следовательно, программируя под эту
плату,  можно  писать музыку также и для других. Это достигается
подстановкой  нужных портов, соответствующих той плате, на кото-
рой будет воспроизводиться музыка. Далее описываются номера пор-
тов,которые  используются  в  AZURE  SOUND  DRIVE  (далее просто
'ASD'):

                    НОМЕР ПОРТА        КАНАЛ

                    15,11             ЛЕВЫЙ

                    31,27             ПРАВЫЙ

                    79,75             ЛЕВЫЙ

                    95,91,191,187     ПРАВЫЙ

                    63,59,127,123     ЛЕВЫЙ

                    251               СРЕДНИЙ

                    255               СРЕДНИЙ


               Порты/каналы других цифровых плат:

    НАИМЕНОВАНИЕ ПЛАТЫ     ЛЕВЫЙ      ПРАВЫЙ      СРЕДНИЙ

     SOUND DRIVE 1         15,79       31,95         -

     SOUND DRIVE b          127          -           -

     LPT-COVOX               -           -          251

     PROFI-COVOX            63          95           -

     AY-COVOX(MONO)          -           -         49149

     AY-COVOX(STEREO)      49149       49149         -

     AY8910/12             49149       49149       49149

     SOUND CARD             127         191          -

   Программирование каналов производится непосредственной засыл-
кой данных в порты ASD. Пример засылки данных:

        ...
        LD A,<байт данных>
        OUT (n),A  ; n - один из портов ASD
        ...

   ВНИМАНИЕ!  ПРИ  АДАПТАЦИИ ПРОГРАММ, НАПИСАННЫХ ДЛЯ AY8910/12,
AY-COVOX(MONO),  AY-COVOX(STEREO)  ТРЕБУЕТСЯ  СОБЛЮДАТЬ ОСТОРОЖ-
НОСТЬ  В  ЗАМЕНЕ  ПОРТОВ, ОСОБЕННО ПРИ УКАЗАНИИ НЕПОЛНОГО АДРЕСА
ПОРТА!  ЭТО  СВЯЗАНО  С  ТЕМ, ЧТО МЛАДШИЙ БАЙТ ПОРТА 49149 МОЖЕТ
УКАЗЫВАТЬ  НА ПЕРЕКЛЮЧЕНИЕ СТРАНИЦ, ЧТО ЕЩЕ К ТОМУ ЖЕ МОЖЕТ ВЫЗ-
ВАТЬ НЕПРАВИЛЬНУЮ РАБОТУ КОМПЬЮТЕРА.

      Правильное переключение портов AY и страниц памяти:

                      (1) для портов AY:
        ...
        LD BC,65533
        LD A,<регистр AY>
        OUT (C),A
        LD BC,49149 ; можно LD B,191 (если С не изменяется)
        LD A,<байт данных>
LABEL   OUT (C),A   ; а не OUT (253),A !
                             ...

                   (2) для страниц памяти:
        ...
        LD BC,32765
        LD A,<значение>
        OUT (C),A   ; а не OUT (253),A !
        ...

  При  адаптации  к  ASD  следует заменить в (1) строку с меткой
LABEL на строку:

               OUT (n),A ; n - соотв. порт ASD

  Но  это  только  частный  случай. В некоторых программах можно
вcтретить и другие комбинации, к которым требуется свой подход.
  Также следует отметить, что при адаптации программ, написанных
для плат, у которых меньше 8bit, желательно убирать подпрограммы
микширования  для  более  качественного звучания. Это в основном
касается программ, написанных для AY8910/12. Это делается в слу-
чае, если Вы хотите задействовать 4 канала с полным 8bit-ным ка-
чеством  (прим.  редакторы  'INSTRUMENT  V.X.XX, 'DIGITAL STUDIO
V.X.XX',  'DMM', 'SAMPLER V.X.XX' и др. - в этом случае уже сле-
дует  подгружать  полноценные 8bit-ные инструменты( их можно без
каких-либо конвертаций перегнать с IBM PC или AMIGA )).


                   СХЕМА ПОДКЛЮЧЕНИЯ ASD V8.6
                   --------------------------
  Подключение  производится непосредственным соединением контак-
тов  платы  ASD с соответствующими контактами системного разъема
компьютера, либо непосредственно к процессору Z-80.

. A0
. A1
. --
. A3        AZURE
. A4        SOUND
. A5        DRIVE
. A6
. A7
. WR
. OUT IORQ
. 12V
. 5V                         магн.
. 0V                         каналы
   .  .  .  .  .  .  .  .  .  .  .
   D7 D6 D5 D4 D3 D2 D1 D0 +  R  L

   Если  на  системном  разъеме  нет сигнала 'OUT IORQ', и Вы не
знаете  как  его  сформировать,  то смело можете вместо него иc-
пользовать  сигнал  IORQ. При этом могут появиться, при работе с
дисководом,  в  динамике потрескивания - это 'контроль дискового
пространства'  - Вы по этим сигналам вскоре научитесь определять
все,  что  происходит  у вас на диске: когда идет чтение, запись
какой-либо информации, перемещение головки дисковода, есть ли на
диске вирус, и мн. мн. др.. Если Вам эти 'потрескивания' не нуж-
ны, то можете поставить тумблер на 'вкл./выкл' ASD, при этом на-
до отключать сразу 5V и 12V!

   О  том,  где, как и за сколько можно приобрести ASD читайте в
этом номере Echo в разделе 'Реклама'.