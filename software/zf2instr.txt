Из журнала ZX Format #2,
Санкт-Петербург, 12.1995



      Instrument 3.01

(C)  Андрей Литвинов  1995
________________________________

   Сегодня  речь пойдет о созда-
нии музыкальных композиций, име-
ющих оцифрованный звук с помощью
программы Instrument 3.01. Оциф-
ровки звука звучат наиболее реа-
листично  по сравнению с обычным
звуком, как, например, в  Sound-
Tracker'е. Но  все же оцифрован-
ный звук имеет и некоторые недо-
статки,  которые сужают круг его
использования:
1. Во время проигрывания мелодии
практически   невозможна  работа
других  процедур. В  большинстве
случаев единственной процедурой,
работающей при проигрывании, мо-
жет  быть только опрос клавиату-
ры.
2. Звук,  выходящий из порта AY-
3-8910/12, не  очень чистый. Бо-
лее чистый звук получается с по-
мощью  специальных  периферийных
устройств (Covox и т.п.). Но по-
ка эти устройства не распростра-
нены, а  также к ним не написано
программного обеспечения.

   Программа   Instrument 3.01 -
это инструмент для создания ком-
позиций с  оцифрованным  звуком.
Его нельзя в полной мере назвать
музыкальным  редактором, так как
его   редакторские   возможности
очень скудны. Но наличие некото-
рых  опций позволяет без особого
труда  конвертировать  мелодии с
известного музыкального редакто-
ра Asc Sound Master (ASM).


   Краткие характеристики  прог-
раммы Instrument 3.01:

 - длина  композиции - 2048 нот,
что равно 32 паттернам редактора
ASM при 64 нотах  в  каждом пат-
терне;
 -  7  загружаемых  инструментов
(сэмплов);
 - встроенный  конвертор мелодий
с ASM;
 - возможность транспозиции каж-
дого из семи сэмплов, т.е.  под-
нимание или опускание сэмплов на
несколько полутонов;
 - удобная система загрузки/сох-
ранения как мелодий, так и сэмп-
лов;
 - Instrument  имеет широкий вы-
бор  управления:  клавиатура  S,
X, O, P, SPACE,  SINCLAIR & KEM-
PSTON JOYSTICKS, KEMPSTOM MOUSE;
 - удобный  оконный  интерфейс и
пиктограммные меню  обеспечивают
комфорт в работе с программой.

   На этом список достоинств In-
strument'a не  заканчивается, но
они рассматриваться отдельно  не
будут. Теперь перейдем от теории
к практике.


       Создание композиции.

   Необходимое оборудование и
программное обеспечение:

 - ZX-SPECTRUM 128K  с  дисково-
дом,  музыкальным  сопроцессором
AY-3-8910/12.
 - INSTRUMENT 3.01  с комплектом
сэмплов к нему.
 - Муз. редактор ASM 1.11 с дис-
ком ASM-формата для выгрузки ме-
лодий.


   Нижеследующая инструкция пос-
вящается тем, кто  хоть  немного
знаком с музыкальным  редактором
ASM.


   Изготовление мелодии в ASM.


   Первым делом необходимо  заг-
рузить ASM. Далее, войдя  в  ре-
дактор ASM-сэмплов, обозначенный
опцией  SM.   XX    (нельзя  пу-
тать ASM-сэмплы с INS-сэмплами!)
нужно  создать  7   произвольных
сэмплов  с  порядковыми номерами
от 1 до 7. Сэмплы не должны быть
одинаковыми, их структура  зави-
сит от вашего вкуса. В  дальней-
шем, при  конвертации, ASM-сэмп-
лы заменятся на INS-сэмплы. Мож-
но также (но необязательно) вой-
ти  в  редактор орнамента (опция
IM. XX),изготовить несколько ор-
наментов. Они потребуются  толь-
ко для удобства в создании  ком-
позиции в ASM'e  и никакой суще-
ственной роли не играют.
   После  изготовления сэмплов и
орнаментов их нужно записать  на
диск ASM-формата  как мелодию, а
не  как  отдельные  сэмплы. Этим
файлом можно пользоваться в  бу-
дущем  при  написании  следующих
композиций.
   Следующий этап - это  написа-
ние мелодии  в  ASM'е.  Подробно
останавливаться на этом я не бу-
ду. Скажу лишь несколько замеча-
ний и ограничений:
 1. Диапазон  композиции  должен
быть не более 4 октав.  Это выз-
вано особенностями Instrument'a.
Наиболее распространенный проме-
жуток - это LARGE, SMALL, 1-ST и
2-ND октавы.
 2. Нельзя использовать  команды
PORT, GLIS, SPEED и т.п. Они бу-
дут  игноророваться  конвертором
Instrument'a.
 3. Пауза (PSE)  сохраняет  свое
действие и в Instrument'e.
 4.   Желательно    использовать
только 7 сделанных сэмплов и лю-
бое количество орнаментов.

   После изготовления композиции
ее следует записать на диск ASM-
формата для возможности дальней-
шей отладки. Затем, войдя в ASM-
COMPILER,  скомпилировать  полу-
ченную  мелодию и записать ее на
TR-DOS  диск.  Процесс  создания
закончен.


          Конвертация.


   После успешной записи на диск
скомпилированного   файла,  надо
загрузить Instrument 3.01. Войдя
в меню дисковых операций (пикто-
грамма в виде дискеты),  выбрать
опцию Import ASM block.  Пользу-
ясь ею, загрузить созданный файл
с композицией.  Появится таблица
(Conversion table).
   Вверху таблицы  располагается
ряд чисел от 0 до 31.  Они явля-
ются  сэмплами  ASM'a.  Рядом  с
каждым из чисел, через двоеточие
стоит цифра от  0 до 7, прочерк,
или ничего. Цифра  означает  но-
мер INS-сэмпла.  Прочерком обоз-
начаются ASM-сэмплы, которым "не
хватило"  сэмплов  Instrument'a.
Если вы писали композицию в  ASM
по  вышеописанному  способу,  то
прочерков быть не должно. Наводя
стрелкой на номер  INS-сэмпла  и
нажимая FIRE, его можно  менять.
INS-сэмпл с номером 0  не задей-
ствуется.
   В нижней трети экрана  распо-
ложен список  октав  ASM'а. Ана-
логично таблице сэмплов,  здесь
через двоеточие указаны  октавы
Instrument'а. Октава с номером 0
не задействуется. Прочерк  может
стоять, если ваша композиция вы-
ходит за пределы четырех октав .
Прочерк также  возникает,  когда
композиция не расположена в LAR-
GE, SMALL, 1-ST и 2-ND  октавах,
но ее диапазон не превышает  че-
тырех октав. В этом случае можно
просто навести на прочерк стрел-
ку  и  кнопкой  FIRE  установить
нужную вам октаву. Если же  ваша
композиция занимает  больше  4-х
октав,  то  можно,  пооперировав
стрелкой и кнопкой FIRE  присво-
ить нескольким ASM-овским  окта-
вам одну INS-овскую.  Аналогично
можно  поступать  и  с сэмплами,
т.е. нескольким ASM-сэмплам при-
своить один INS-овский. Это  де-
лается   наведением  стрелки  на
прочерк и нажатием FIRE.
   Справа от таблицы октав нахо-
дится  табличка  каналов.  В ней
осуществляется обмен каналами AY
по вашему желанию.
   После  завершения  работы   с
таблицей и выхода из нее с помо-
щью опции OK,  необходимо  подо-
брать на слух INS-сэмплы, загру-
жая их и запуская мелодию пикто-
граммой в виде динамической  го-
ловки.  На дистрибутивных дисках
имеется большое количество сэмп-
лов. Их разнообразия должно хва-
тить для вашей мелодии. Загрузка
осуществляется наведением стрел-
ки на область экрана   справа от
номеров сэмплов  (левая  верхняя
четверть экрана)  и  последующим
нажатием FIRE. Появится  каталог
сэмплов с  указанием  их  длины.
На  каждый  инструмент  резерви-
руется по 16384 байт. Но 6-ой  и
7-ой сэмплы размещаются в облас-
тях 4-ого и 5-ого сэмплов  соот-
ветсвенно. Получается, что  паре
сэмплов (4 и 6, 5 и 7) достается
только 16384 байт.   Из-за этого
надо внимательно следить за  ис-
пользованием  памяти.   Наиболее
громоздкие  инструменты  следует
располагать первыми. Для отладки
вам придется не раз  заходить  в
CONVERSION TABLE, и поэтому  бу-
дет целесообразно сохранить таб-
лицу  на  диске  (меню  дисковых
операций, опция "SAVE CONV. TAB-
LE". Чтобы зайти в  CONV. TABLE,
нужно еще раз выполнить  "IMPORT
ASM BLOCK").
   И вот, наконец,   когда  инс-
трументы   будут  подобраны,  вы
сможете  насладиться  написанным
произведением. Теперь только на-
до  записать  композицию на диск
опцией "SAVE TUNE".

   Если вам была непонятна  дан-
ная  инструкция  (по моей вине),
или вы хотите  услышать что-либо
о музыке ZX-SPECTRUM, то  пишите
в  редакцию  журнала "ZX-FORMAT"
на имя Литвинова Андрея (LAV'а).

Желаю успехов в создании музыки.
________________________________