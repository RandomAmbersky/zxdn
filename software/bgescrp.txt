Из дистрибутива Burial GFX Editor v3.05
by Delirium Tremens/Freedom



   SABHAR INC Ltd (C)(R)

   Screen printer version 1.0 beta.

    Данная  программа  является  модулем
для  графического  редактора  Burial Gfx
Editor.  Статус -- FreeWare. Распростра-
няется AS IS.

    Назначение  -- печать всяческих кар-
тинок на EPSON совместимом принтере.

     Главное меню.

1. Black/White 0.25*0.33

    Картинка   отправляется  на  принтер
очень хитрым образом, так что разрешение
у обычного 9 пинового принтера получает-
ся  240*216 dpi. Картинка получается ма-
ленькой,  куда это можно девать, я и сам
не  знаю,  просто  когда-то мне это было
надо, но не пропадать же добру.

2. Black/White 0.5*0.66
    Аналогичный  изврат,  но  в  120*144
dpi.

3. Black/White 1*1

    Простой черно-белый отпечаток в раз-
решении  72*72 dpi. Все включенные точки
печатаются черным цветом.

4. Black/White 2*2

    Тоже  самое,  что  п.3,  но в 2 раза
крупнее. Картинка занимает половину лис-
та А4.

5. GreyScale 2*2

    Занимает  половину листа А4, изобра-
жение  в  восьми градациях серого цвета.
Картинка выгружается на принтер боком.

6. GreyScale 3*3

    Восемь  градаций  серого,  но уже на
весь лист. Картинка выгружается на прин-
тер боком.

7. InkJet 360 dpi by EVP
    (c) EVP. Вывод картинки на принтер в
разрешении 360x360 dpi. Заточена под Ep-
son  Stylus 800 и совместимые. Настройки
режимов побоку.

8. Eject paper

     Извлекает лист из принтера.

9. Setup

    Тут  можно  сменить тип интерфейса и
используемый графический режим принтера.

 Поддержаны интерфейсы:

 ZXLprint III
 Scorpion
 KAY-1024
 User's driver

    Пользовательский  драйвер должен на-
ходиться  на  текущем  диске,  имя может
быть любым, но длинна должна быть не бо-
лее 255-и байт (тобишь один сектор). Же-
лательно  делать его перемещаемым. Точек
входа две:

+0 (JR INIT) - инициализация интерфейса;
+2 (JR DRIV) - вывод байта на принтер.

Если  был  нажат BREAK -- драйвер должен
вернуть установленный флаг C.

В  качестве примера прилагаю драйвер для
интерфейса на КР580ВВ55.
________________________________________

      ORG  (ЛЮБОЙ)

      JR   INIT
      JR   PRINT

INIT  LD   A,#98   ;инициализация
      OUT  (#7F),A ;портов микросхемы
      LD   A,1     ;КР580ВВ55
      OUT  (#5F),A
      RET

PRINT LD   E,A
BUSY  CALL #1F54   ;BREAK?
      CCF
      RET  C
      IN   A,(#5F) ;проверка готовности
      RLA          ;по 7 биту порта #5F
      JR   C,BUSY  ;снова, если не готов
      NOP          ;
      NOP
      DI
      LD   A,E
      OUT  (#3F),A ;вывод байта
      XOR  A       ;A = 0
      OUT  (#5F),A ;стробирование
      NOP          ;(101)
      NOP
      NOP
      NOP
      INC  A       ;A = 1
      OUT  (#5F),A
      AND  A
      EI
      RET

      DB 13,10
      DM "Profi BB55 printer driver"
      DM " for BGE."
      DB 13,10
________________________________________

 Графические режимы принтера:

    ESC * m -- включен по умолчанию, ес-
ли  все  нормально  то лучше его не тро-
гать. Пропорции не искажаются.

    ESC  K,L,Z  --  на некоторых древних
принтерах  придется воспользоваться ими.
Страшного  ничего нет, просто в Black/W-
hite  режимах  разрешение по горизонтали
будет 60 dpi вместо 72, поэтому картинка
будет слегка растянута по горизонтали, а
при  размере 2*2 может даже не влезть на
лист.

    Bold/Normal  (Жирно/нормально) рабо-
тает только на 24-пиновых принтерах. При
"нормально"  используется  только каждая
третья иголка, при "жирно" две неисполь-
зуемые иголки выставляются по соседней.

   Normal           Bold


     #                #
                      #
                      #
   #   #            #   #
                    #   #
                    #   #
 #       #        #       #
                  #       #
                  #       #
 # # # # #        # # # # #
                  # # # # #
                  # # # # #
 #       #        #       #
                  #       #
                  #       #
 #       #        #       #
                  #       #
                  #       #

    Нарисовано  очень коряво, но принцип
понятен.
________________________________________

    Вот  в  общем-то и все. Если вдруг у
кого-то  что-то не так работает -- пиши-
те, исправлю. Немножко глюков там навер-
няка  есть,  ибо  невовремя сломался мой
принтер, и дописывалось все уже без про-
верок. Если у кого-то ни с чем несовмес-
тимый принтер - высылайте исходники/опи-
сания, вставлю.

Координаты:

Valerij Kozhevnikoff
 500:95/468.2@ZXNet

Valerij Kozhevnikoff
 2:5020/2065.304@FidoNet

e-mail: Valerij.Kozhevnikoff@p304.f2065
.n5020.z2.fidonet.org

или

jason_zx#mail.ru  <- сюда лучше не
                     писать, глючит оно.

03:53:01 4.03.2001

+---------------------------------+
| Перекомпилено под BGE 3.01      |
|   SABHAR INC Ltd (C)(R)         |
|      data 17.05.2001            |
+---------------------------------+
|    Оригинал кода взят из        |
|       (c) Jason/ATS             |
|Screen printer version 0.2 beta. |
|но из-за того, что BGE'шный код  |
|   в модуле сильно изменен,      |
|оригинальный логотип отсутствует.|
+---------------------------------+
|Данное описание является копией с|
|видоизмененого оригинала автора. |
+---------------------------------+

