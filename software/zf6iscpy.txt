Из журнала ZX Format #6,
Санкт-Петербург, 30.07.1997



  Рубрика "IS-DOS - пользователям" No.6

(C) В.Елисеев
_________________________________________

     Здравствуйте,   уважаемые  читатели!
Сегодня,    по    Вашим    многочисленным
просьбам,  мы расскажем Вам как правильно
сделать копию системного диска,  как  вы-
полнить первоначальную настройку  системы
IS-DOS под конкретную модель компьютера и
под Ваши конкретные задачи.  Сегодня наша
рубрика  состоит  из  нескольких  статей,
первая из них  посвящена  наиболее  часто
задаваемому Вами вопросу, а именно:

        КАК СДЕЛАТЬ РАБОЧУЮ КОПИЮ
         СИСТЕМНОГО ДИСКА IS_DOS

     При работе с программами IS-DOS  ре-
комендуется всегда создавать для  повсед-
невной работы копии дисков, оставляя ори-
гиналы в архиве на случай аварии.
     В этой статье мы с  Вами  рассмотрим
подробно процесс создания  рабочей  копии
системного диска IS-DOS.

    I. Создание рабочей копии методом
         потрекового копирования

     Создать рабочую  копию  диска  можно
несколькими способами.  Первый и,    надо
сказать,  самый простой способ - это  ис-
пользование потрекового копирования.  При
этом последовательность операций  следую-
щая:

1. Загрузите систему IS-DOS базового дис-
ка  и запустите программу format.com, ко-
торая находится в каталоге S:SERVICE\
при этом на экране Вашего Speccy  появит-
ся меню следующего содержания:

+---------------------------------------+
| +=========+  +=========+ +----------+ |
| |Drive: A |  | iS-DOS  | |Start:   0| |
| |Double   |  |  Disk   | |Quan:  160| |
| |Verify   |  |Formatter| |Retry:    | |
| |Format   |  |  1996   | |Rd&Wrt:  1| |
| |Configur |  +=========+ |Verify:  1| |
| |Save     |              |Format:  1| |
| |Exit     |              |Exit      | |
| +=========+              +----------+ |
|                                       |
|                                       |
|                                       |
+---------------------------------------+

     Если у Вас два дисковода -  вставьте
во второй дисковод чистый диск, установи-
те курсор на строчку  Drive:  и  выберите
дисковод B:
     Если у Вас один дисковод -  оставьте
все как есть,  но не забудьте вынуть сис-
темный диск из дисковода и вставить  туда
чистый диск.
     Запустите  форматирование   (нажмите
ENTER на строке Format).

2. После того, как Вы получили чистый от-
форматированный диск,  запустите програм-
му потрекового копирования. Для двух дис-
ководов это может быть программа abba.com
или, в новой версии 4.5, - abc.com.
     Если у Вас только  один  дисковод  -
придется немного повозиться,  сменяя дис-
ки,  пока копирование не закончится.    В
этом поможет программа copy_all.com.  Она
сама напомнит,  когда нужно будет сменить
диск,  надо только запомнить,  что SOURCE
означает диск-источник, С КОТОРОГО произ-
водится копирование,  а DESTINATION - оз-
начает приемный диск, НА КОТОРЫЙ Вы копи-
руете.
     Вообще,  с системой  IS-DOS  намного
удобнее работать на компьютере, имеющем 2
(и более) дисководов,  в одном из которых
устанавливается системный диск,  а с дру-
гого згружаются Ваши рабочие файлы,  хотя
никаких  принципиальных  ограничений   на
этот счет нет.
     Итак,  по окончании  копирования  Вы
получаете точную копию исходного диска со
всеми его особенностями, включая располо-
жение файлов. Никаких "подключений систе-
мы"  и  прочих  операций  в  этом  случае
производить НЕ НУЖНО.

3. Далее,  если Вас смущает то,   что  на
диске не хватает свободного места под Ва-
ши рабочие  файлы,    Вы  можете  удалить
большую часть их  без  явного  вреда  для
системы.
     Удалять файлы можно при помощи  сис-
темной утилиты delete.com (той самой, ко-
торая вызывается клавишей 8 и удаляет все
отмеченные файлы).
     Также можно воспользоваться програм-
мой remote.com для удаления целого  ката-
лога со всеми находящимися в нем  файлами
(не забудьте только  после  этого  запус-
тить программу arzt.com или arzt+.com для
восстановления  карты  занятости   блоков
диска,  иначе освободившееся место не бу-
дет доступно для системы)
     Счастливые обладатели  новой  версии
IS-DOS 4.5 могут удалять  целые  каталоги
при помощи  новой  утилиты  eradicat.com,
при этом карта занятости  блоков  исправ-
ляется автоматически  и  arzt.com  запус-
кать уже не потребуется.  Просто выберите
каталог, который хотите удалить,  выйдите
в монитор командной строки (клавиша M)  и
наберите eradicat и ENTER. Потом останет-
ся только ответить "Y" на запрос

           +---------------+
           |"Eradicate CAT:|
           |    NAME       |
           |    (Y/N) ?    |
           +---------------+

и каталог будет благополучно удален вмес-
те со всем соджержимым.

     Теперь поговорим о том,  какие имнно
файлы Вы можете безболезненно удалить.
     В первую очередь,   это,    конечно,
help-файлы  -  все  файлы  с  расширением
*.hlp и подкаталоги \HELP\ во всех основ-
ных каталогах и каталог с рекламой IS-DOS
\РЕКЛАМА\. Это даст Вам  уже  более  1500
свободных блоков, т. е. около 380К.  Если
Вам этого мало,  можете удалить еще ката-
логи:

\EDIT\KRYPTON\ (15 блоков),
\MSDOS\ (137 блоков),
\RES\TRANS\ (115  блоков),
\RES\BASIC\ (87 блоков),
\PRINT\PL\ (113 блоков),

но,  естественно,  при условии,  что  эти
программы Вам не понадобятся. В результа-
те  вышеописанных  манипуляций  на  Вашем
диске будет около 2000 свободных  блоков,
которые Вы можете занимать  своими  прог-
раммами и файлами.

4. И в заключение,  Вы  можете  запустить
программу arzt+.com для того,  чтобы соб-
рать все свободные блоки в конце диска (о
том,  как это сделать Вы можете прочитать
в прошлом номере ZF).

   II. Создание рабочей копии вручную.

1. Возьмите чистый диск и  отформатируйте
его так, как уже было описано выше.

2. На этом  диске  при  помощи  системной
утилиты mkdir.com необходимо создать  ос-
новные каталоги IS-DOS: SHELL, UTIL, RES,
SERVICE, а также желательно EDIT и PRINT.
     Собственно,  можно никаких каталогов
не создавать,  а разместить все в  корне-
вом каталоге или в каталоге с любым  име-
нем,  но мы настоятельно рекомендуем соб-
людать сложившиеся традиции,  чтобы избе-
жать путаницы.  Кроме того,   стандартные
имена каталогов записаны в файлах  конфи-
гурации системы для того, чтобы можно бы-
ло вызывать часто используемые  программы
нажатием одной клавиши, естественно,  ес-
ли система не найдет файлы там,  где  они
должны быть,  системными утилитами  будет
достаточно сложно воспользоваться.

3. Скопируйте на диск следующие файлы:

     в  корневой  каталог  нового диска -
файл extent.txt,
     в   каталог  \SHELL\  -  файлы  ext-
key.txt, extview.txt, extprint.txt и exe-
bat.com,
     в  каталог  \SERVICE\  -  файлы  bo-
ot.com,   con.com,  системный  файл  is_-
dos.sys,  полезен будет также и командный
файл connect.bat

4. Затем  можете  вынуть из текущего дис-
ковода системный диск,  установите на его
место тот,  который Вы только что создали
и запустите командный файл connect.bat.
     Если Вы все сделали правильно, то Вы
получите вполне работоспособный загружае-
мый системный диск IS-DOS.

5. Теперь Вы можете переписать в соответ-
ствующие каталоги нового диска  необходи-
мые Вам программы из  каталогов  \SHELL\,
\UTIL\, \RES\,  \SERVICE\,  а также прог-
рамму печати и текстовый редактор.   Если
Вам  нужны  программы  для  перекодировки
текстов, работы с дисками MS-DOS и т.  п.
-  создайте  соответствующие  каталоги  и
разместите в них необходимые Вам файлы.
     При копировании удобно  пользоваться
утилитой coca.com,  которая  копирует  на
диск,  открытый в альтернативной  панели,
соджержимое текущего  каталога  со  всеми
подкаталогами и файлами.

Минимальный рекомендуемый  состав  утилит
системы IS-DOS:

\Корневой каталог\

autoexec.bat extent.txt

\SHELL\
coca.com     copy.com     copy25.com
delete.com   exebat.com   exepak.com
exescr.com   extkey.txt   extprint.txt
extview.txt  filecopy.com gmen.com
mkdir.com    rename.com   tv.com

\UTIL\
abc.com      arzt+.com    cd+.com
copy_all.com date.com     eliminat.com
eradicat.com fdir.com     free.com
mon.com      path.com     path.txt
qu.com       show.com     sort.com

\RES\
bat.res      calc.com     calc.res
ch.com       ch.res       date+3.res
gmen.res     indi.res     junc.com
mkdir.res    mon+.res     ren.res
scan.res     set.com      standart.bat
univ.res

\SERVICE\
boot.com     check.com    con.com
connect.bat  create.com   demon.com
doctor.com   format.com   is_dos.sys
shell.com    sv.com

     Ну вот и все. Теперь, мы надеемся, у
Вас уже не будет проблем с созданием  ра-
бочей копии любого IS-DOS диска, а в сле-
дующей статье этого номера мы с Вами  по-
говорим немного  об  индивидуальной  нас-
тройке системы IS-DOS.

_________________________________________